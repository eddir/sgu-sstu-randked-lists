# Описание
Этот скрипт на Python помог мне следить за ранжированными списками во время поступления в университет. По мере приближения даты зачисления я совершенствовал функционал скрипта и его итоговый вариант представлен в данном репозитории.

# Возможности
Отчёты о текущей позиции в списках, мгновенные репорты об изменении позиции, уведомления в чат в Telegram. Адаптирован под работу с сайтами sgu.ru и sstu.ru .

# Требования

* Python 3
* Библиотеки: BeautifulSoup, python-telegram-bot, requests, PuYAML

# Установка

1. `git clone git@github.com:eddir/sgu-sstu-randked-lists.git`
2. Настроить перемену config под себя
3. Добавить в crontab или запускать в ручную

# Настройка

Откройте файл monitoring.py и отредактируйте переменную config:

`token`: токен для отправки сообщений в Telegram

`chat`: id чата, куда отправлять сообщения

`faculties`: список факультетов и направления

Каждое направление записывается по образцу:
```
{
    'url': "https://www.sgu.ru/svodka/mehaniko-matematicheskii_fakultet/prikladnaya_informatika_09.03.03/ochnaya/prikladnaya_informatika_ochnaya_buidzhet_00031", # Ссылка на ранжированный список
    'name': "МехМат", # Название направления в любом понравившемся формате
    'user_name': "Ростков Эдуард Александрович", # Ваше полное имя так, как оно записано в списках
    'parser': 'sgu', # Для сайта sgu.ru - sgu, для сайта pk-info.sstu.ru - sgtu
    'vacancies': 32, # Количество бюджетных мест за вычетом льготников
    'passing_score': 167 # Проходной балл прошлого года
},
```

# Команды

`python monitoring.py alert`: отправляет отчёт о текущем положении в списках в чат

`python monitoring.py`: парсит указанные в config страницы и отправляет уведомление, если произошли какие-либо изменения

`python monitorng.py test` или `python monitoring.py test alert`: выполняет команду с использованием данных из config_test, объединённых с config.

# Формат возвращённых данных

Название факультета - Направление

Зачисление: *прогноз*

Общий зачёт: *ваша позиция* / *бюджетных мест всего* (*бюджетных мест на первой волне 80%*)

С аттестатами: *люди с аттестатами и баллами выше*

Проходной балл: *этого года с оригиналами* / *прошлого года*
